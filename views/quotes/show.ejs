<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote Details</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #333; }
        a { text-decoration: none; color: #007bff; }
        a:hover { text-decoration: underline; }
        .detail { margin: 10px 0; }
        .quote-text { font-size: 1.5em; font-style: italic; margin: 20px 0; }
        .user-info { background: #f0f0f0; padding: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <h1>Quote Details</h1>
    <div class="user-info">
        <% if (typeof user !== 'undefined' && user) { %>
            <span>Welcome, <strong><%= user.username %></strong>!</span>
            <a href="/quotes">Back to All Quotes</a> | 
            <a href="/auth/logout">Logout</a>
        <% } else { %>
            <span>Welcome, guest!</span>
            <a href="/quotes">Back to All Quotes</a> | 
            <a href="/auth/login">Login</a> | 
            <a href="/auth/register">Register</a>
        <% } %>
    </div>
    <a href="/quotes">Back to All Quotes</a>
    <% if (typeof user !== 'undefined' && user && quote.user && quote.user._id.toString() === user._id.toString()) { %>
        | <a href="/quotes/<%= quote._id %>/edit">Edit</a>
    <% } %>
    <div class="quote-text">"<%= quote.text %>"</div>
    <div class="detail"><strong>Author:</strong> <%= quote.author %></div>
    <div class="detail"><strong>Category:</strong> <%= quote.category %></div>
    <div class="detail"><strong>Source:</strong> <%= quote.source || 'Unknown' %></div>
    <div class="detail"><strong>Date Added:</strong> <%= quote.dateAdded.toLocaleDateString() %></div>
    <div class="detail"><strong>Likes:</strong> <%= quote.likes %></div>
    <div class="detail"><strong>Favorite:</strong> <%= quote.isFavorite ? 'Yes' : 'No' %></div>
    <% if (quote.user) { %>
        <div class="detail"><strong>Added by:</strong> <%= quote.user.username %></div>
    <% } %>
</body>
</html>
